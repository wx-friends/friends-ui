<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¨æˆ·èµ„æ–™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .profile-header {
            background: linear-gradient(135deg, #42E2B8 0%, #34D399 50%, #A7F3D0 100%);
        }
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
        }
        .photo-item {
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 8px;
        }
        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .photo-item:hover img {
            transform: scale(1.05);
        }
        .action-btn {
            transition: all 0.3s ease;
        }
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .follow-btn {
            background: linear-gradient(135deg, #34D399 0%, #42E2B8 100%);
        }
        .follow-btn.following {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tab-button.active {
            color: #34D399;
            border-bottom: 2px solid #34D399;
        }
        #commentModal {
            backdrop-filter: blur(4px);
        }
        #commentPanel {
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="h-screen bg-gray-50 flex flex-col">
    <!-- çŠ¶æ€æ  -->
    <div class="flex justify-between items-center px-6 py-2 text-white text-sm font-medium profile-header">
        <span>9:41</span>
        <div class="flex items-center space-x-1">
            <i class="fas fa-signal text-xs"></i>
            <i class="fas fa-wifi text-xs"></i>
            <div class="w-6 h-3 border border-white rounded-sm">
                <div class="w-4 h-2 bg-white rounded-sm m-0.5"></div>
            </div>
        </div>
    </div>

    <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
    <div class="profile-header px-6">
        <!-- å¯¼èˆªæ  -->
        <div class="pt-4 pb-2 flex items-center justify-between">
            <button onclick="goBack()" class="w-8 h-8 flex items-center justify-center">
                <i class="fas fa-arrow-left text-white"></i>
            </button>
            <div class="flex items-center space-x-2">
                <button onclick="shareProfile()" class="w-8 h-8 flex items-center justify-center">
                    <i class="fas fa-share text-white"></i>
                </button>
                <button onclick="showMoreOptions()" class="w-8 h-8 flex items-center justify-center">
                    <i class="fas fa-ellipsis-h text-white"></i>
                </button>
            </div>
        </div>

        <div class="pb-6">
            <div class="flex items-center space-x-4 mb-6">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face" 
                         alt="å¤´åƒ" class="w-20 h-20 rounded-full object-cover border-4 border-white shadow-lg">
                    <div class="absolute -bottom-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center">
                        <i class="fas fa-check text-white text-xs"></i>
                    </div>
                </div>
                <div class="flex-1 text-white">
                    <div class="flex items-center space-x-2 mb-1">
                        <h2 class="text-2xl font-bold">å°æ˜</h2>
                        <div class="bg-yellow-400 px-2 py-1 rounded-full">
                            <span class="text-xs font-bold text-gray-800">VIP</span>
                        </div>
                    </div>
                    <p class="text-white opacity-90 mb-2">28å² Â· åŒ—äº¬å¸‚æœé˜³åŒº Â· è·ç¦»ä½  2.3km</p>
                    <div class="flex space-x-2 mb-3">
                        <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs">è®¾è®¡å¸ˆ</span>
                        <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs">æ‘„å½±</span>
                        <span class="bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs">æ—…è¡Œ</span>
                    </div>
                    <p class="text-white opacity-80 text-sm">å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªèƒ½ä¸€èµ·åˆ†äº«ç”Ÿæ´»ã€å…±åŒæˆé•¿çš„å¦ä¸€åŠ ğŸ’•</p>
                </div>
            </div>

            <!-- ç»Ÿè®¡æ•°æ® -->
            <div class="grid grid-cols-4 gap-4 mb-6">
                <div class="text-center">
                    <div class="text-2xl font-bold text-white">156</div>
                    <div class="text-white opacity-80 text-sm">å…³æ³¨</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-white">1.2K</div>
                    <div class="text-white opacity-80 text-sm">ç²‰ä¸</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-white">23</div>
                    <div class="text-white opacity-80 text-sm">æ­å­åŒ¹é…</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-white">45</div>
                    <div class="text-white opacity-80 text-sm">æ´»åŠ¨å‚ä¸</div>
                </div>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="flex space-x-3">
                <button id="followBtn" class="follow-btn action-btn flex-1 py-3 px-6 text-white rounded-xl font-medium flex items-center justify-center space-x-2" onclick="toggleFollow()">
                    <i class="fas fa-user-plus text-sm"></i>
                    <span>å…³æ³¨</span>
                </button>
                <button class="action-btn flex-1 py-3 px-6 bg-white bg-opacity-20 text-white rounded-xl font-medium flex items-center justify-center space-x-2 border border-white border-opacity-30" onclick="sendMessage()">
                    <i class="fas fa-comment text-sm"></i>
                    <span>ç§ä¿¡</span>
                </button>
                <button class="action-btn w-12 h-12 bg-white bg-opacity-20 text-white rounded-xl flex items-center justify-center border border-white border-opacity-30" onclick="toggleLike()">
                    <i id="likeIcon" class="far fa-heart text-lg"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
    <div class="bg-white border-b border-gray-100">
        <div class="flex">
            <button class="tab-button active flex-1 py-4 text-center font-medium" onclick="switchTab('photos')">
                ç›¸å†Œ
            </button>
            <button class="tab-button flex-1 py-4 text-center font-medium" onclick="switchTab('moments')">
                åŠ¨æ€
            </button>
            <button class="tab-button flex-1 py-4 text-center font-medium" onclick="switchTab('activities')">
                æ´»åŠ¨
            </button>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="flex-1 overflow-y-auto">
        <!-- ç›¸å†Œæ ‡ç­¾é¡µ -->
        <div id="photosTab" class="tab-content active p-6">
            <div class="photo-grid">
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=300&h=300&fit=crop" alt="ç…§ç‰‡1">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop" alt="ç…§ç‰‡2">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=300&fit=crop" alt="ç…§ç‰‡3">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop" alt="ç…§ç‰‡4">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=300&h=300&fit=crop" alt="ç…§ç‰‡5">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=300&fit=crop" alt="ç…§ç‰‡6">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop" alt="ç…§ç‰‡7">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=300&h=300&fit=crop" alt="ç…§ç‰‡8">
                </div>
                <div class="photo-item">
                    <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=300&fit=crop" alt="ç…§ç‰‡9">
                </div>
            </div>
        </div>

        <!-- åŠ¨æ€æ ‡ç­¾é¡µ -->
        <div id="momentsTab" class="tab-content p-6 space-y-4">
            <!-- åŠ¨æ€å¡ç‰‡ 1 -->
            <div class="bg-white rounded-2xl p-4 shadow-sm">
                <div class="flex items-center space-x-3 mb-4">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face"
                         alt="å¤´åƒ" class="w-10 h-10 rounded-full object-cover ring-2 ring-pink-200">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-semibold text-gray-900">å°æ˜</h3>
                            <span class="px-2 py-1 bg-pink-100 text-pink-600 rounded-full text-xs font-medium">
                                <i class="fas fa-heart text-xs mr-1"></i>æ‹çˆ±
                            </span>
                        </div>
                        <p class="text-xs text-gray-500">3å°æ—¶å‰</p>
                    </div>
                </div>

                <p class="text-gray-800 mb-4 leading-relaxed">
                    å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªèƒ½ä¸€èµ·åˆ†äº«ç”Ÿæ´»ã€å…±åŒæˆé•¿çš„å¦ä¸€åŠã€‚æˆ‘å–œæ¬¢æ—…è¡Œã€æ‘„å½±ï¼Œä¹Ÿå–œæ¬¢å®‰é™çš„è¯»ä¹¦æ—¶å…‰ã€‚å¸Œæœ›åœ¨ç¢°ç¢°é‡åˆ°é‚£ä¸ªå¯¹çš„äºº ğŸ’•
                </p>

                <div class="grid grid-cols-3 gap-2 mb-4 text-xs">
                    <div class="bg-pink-50 rounded-lg p-3 text-center border border-pink-100">
                        <div class="text-pink-600 font-medium text-sm">28å²</div>
                        <div class="text-gray-500 text-xs">å¹´é¾„</div>
                    </div>
                    <div class="bg-pink-50 rounded-lg p-3 text-center border border-pink-100">
                        <div class="text-pink-600 font-medium text-sm">175cm</div>
                        <div class="text-gray-500 text-xs">èº«é«˜</div>
                    </div>
                    <div class="bg-pink-50 rounded-lg p-3 text-center border border-pink-100">
                        <div class="text-pink-600 font-medium text-sm">è®¾è®¡å¸ˆ</div>
                        <div class="text-gray-500 text-xs">èŒä¸š</div>
                    </div>
                </div>

                <div class="grid grid-cols-3 gap-2 mb-4">
                    <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=200&h=200&fit=crop"
                         alt="ç…§ç‰‡1" class="w-full h-24 object-cover rounded-xl">
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop"
                         alt="ç…§ç‰‡2" class="w-full h-24 object-cover rounded-xl">
                    <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop"
                         alt="ç…§ç‰‡3" class="w-full h-24 object-cover rounded-xl">
                </div>

                <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                    <button class="flex items-center space-x-2 text-gray-500" onclick="likeMoment(this)">
                        <i class="far fa-heart text-lg"></i>
                        <span class="text-sm">32</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="commentMoment(1)">
                        <i class="far fa-comment text-lg"></i>
                        <span class="text-sm">8</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="shareMoment(1)">
                        <i class="fas fa-share text-lg"></i>
                        <span class="text-sm">åˆ†äº«</span>
                    </button>
                </div>
            </div>

            <!-- åŠ¨æ€å¡ç‰‡ 2 -->
            <div class="bg-white rounded-2xl p-4 shadow-sm">
                <div class="flex items-center space-x-3 mb-4">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face"
                         alt="å¤´åƒ" class="w-10 h-10 rounded-full object-cover ring-2 ring-green-200">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-semibold text-gray-900">å°æ˜</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs font-medium">
                                å­¦ä¹ æ­å­
                            </span>
                        </div>
                        <p class="text-xs text-gray-500">1å¤©å‰</p>
                    </div>
                </div>

                <p class="text-gray-800 mb-4 leading-relaxed">
                    å‘¨æœ«æƒ³æ‰¾ä¸ªå­¦ä¹ æ­å­ä¸€èµ·åœ¨å›¾ä¹¦é¦†å­¦ä¹ ï¼Œäº’ç›¸ç›‘ç£ï¼Œæé«˜å­¦ä¹ æ•ˆç‡ï¼æœ‰ä¸€èµ·çš„å—ï¼ŸğŸ“š
                </p>

                <div class="grid grid-cols-2 gap-2 mb-4">
                    <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=200&h=200&fit=crop"
                         alt="å­¦ä¹ 1" class="w-full h-24 object-cover rounded-xl">
                    <img src="https://images.unsplash.com/photo-1521587760476-6c12a4b040da?w=200&h=200&fit=crop"
                         alt="å­¦ä¹ 2" class="w-full h-24 object-cover rounded-xl">
                </div>

                <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                    <button class="flex items-center space-x-2 text-gray-500" onclick="likeMoment(this)">
                        <i class="far fa-heart text-lg"></i>
                        <span class="text-sm">15</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="commentMoment(2)">
                        <i class="far fa-comment text-lg"></i>
                        <span class="text-sm">3</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="shareMoment(2)">
                        <i class="fas fa-share text-lg"></i>
                        <span class="text-sm">åˆ†äº«</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- æ´»åŠ¨æ ‡ç­¾é¡µ -->
        <div id="activitiesTab" class="tab-content p-6 space-y-4">
            <!-- æ´»åŠ¨å¡ç‰‡ 1 -->
            <div class="bg-white rounded-2xl p-4 shadow-sm">
                <div class="flex items-center space-x-3 mb-4">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face"
                         alt="å¤´åƒ" class="w-10 h-10 rounded-full object-cover ring-2 ring-green-200">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-semibold text-gray-900">å°æ˜</h3>
                            <span class="px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs font-medium">
                                <i class="fas fa-handshake text-xs mr-1"></i>æ­å­æ´»åŠ¨
                            </span>
                        </div>
                        <p class="text-xs text-gray-500">2å¤©å‰</p>
                    </div>
                </div>

                <h4 class="font-semibold text-gray-900 mb-2">å¯»æ‰¾ç¾½æ¯›çƒæ­å­</h4>
                <p class="text-gray-600 mb-4">å‘¨æœ«æƒ³æ‰¾äººä¸€èµ·æ‰“ç¾½æ¯›çƒï¼ŒæŠ€æœ¯ä¸€èˆ¬ï¼Œä¸»è¦æ˜¯æƒ³è¿åŠ¨è¿åŠ¨ï¼Œæœ‰æ„Ÿå…´è¶£çš„æœ‹å‹å—ï¼ŸğŸ¸</p>

                <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 mb-4 border border-green-200">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-2">
                            <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                                <i class="fas fa-calendar-alt text-white"></i>
                            </div>
                            <div>
                                <div class="text-sm font-medium text-green-900">æ´»åŠ¨æ—¶é—´</div>
                                <div class="text-xs text-green-700">æœ¬å‘¨å…­ 14:00-16:00</div>
                            </div>
                        </div>
                        <span class="px-3 py-1 bg-green-500 text-white rounded-full text-xs font-medium">è¿›è¡Œä¸­</span>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center space-x-2 text-green-700">
                            <i class="fas fa-map-marker-alt text-green-600"></i>
                            <span>å¸‚ä½“è‚²é¦†ç¾½æ¯›çƒé¦†</span>
                        </div>
                        <div class="flex items-center space-x-2 text-green-700">
                            <i class="fas fa-users text-green-600"></i>
                            <span>å·²æœ‰ 2 äººå‚ä¸ Â· è¿˜éœ€ 1-2 äºº</span>
                        </div>
                        <div class="flex items-center space-x-2 text-green-700">
                            <i class="fas fa-dollar-sign text-green-600"></i>
                            <span>AAåˆ¶ Â· é¢„ä¼°äººå‡ 30å…ƒ</span>
                        </div>
                    </div>
                </div>

                <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                    <button class="flex items-center space-x-2 text-gray-500" onclick="likeActivity(this)">
                        <i class="far fa-heart text-lg"></i>
                        <span class="text-sm">15</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="commentActivity(1)">
                        <i class="far fa-comment text-lg"></i>
                        <span class="text-sm">6</span>
                    </button>
                    <button class="flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-full text-sm font-medium" onclick="joinActivity(1)">
                        <i class="fas fa-handshake text-sm"></i>
                        <span>å‚ä¸æ´»åŠ¨</span>
                    </button>
                </div>
            </div>

            <!-- æ´»åŠ¨å¡ç‰‡ 2 -->
            <div class="bg-white rounded-2xl p-4 shadow-sm">
                <div class="flex items-center space-x-3 mb-4">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face"
                         alt="å¤´åƒ" class="w-10 h-10 rounded-full object-cover ring-2 ring-purple-200">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <h3 class="font-semibold text-gray-900">å°æ˜</h3>
                            <span class="px-2 py-1 bg-purple-100 text-purple-600 rounded-full text-xs font-medium">
                                <i class="fas fa-star text-xs mr-1"></i>å®˜æ–¹æ´»åŠ¨
                            </span>
                        </div>
                        <p class="text-xs text-gray-500">3å¤©å‰</p>
                    </div>
                </div>

                <h4 class="font-semibold text-gray-900 mb-2">æ‘„å½±å…´è¶£æ´¾å¯¹</h4>
                <p class="text-gray-600 mb-4">æœ¬æ¬¡æ‘„å½±å…´è¶£æ´¾å¯¹ç”±ä¸“ä¸šæ‘„å½±å¸ˆæŒ‡å¯¼ï¼Œå°†ä¸ºå¤§å®¶åˆ†äº«æ‘„å½±æŠ€å·§ã€æ„å›¾æ–¹æ³•ã€åæœŸå¤„ç†ç­‰ä¸“ä¸šçŸ¥è¯†ã€‚</p>

                <div class="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 mb-4 border border-purple-200">
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div class="bg-white rounded-lg p-3">
                            <div class="flex items-center space-x-2 mb-1">
                                <i class="fas fa-users text-purple-600"></i>
                                <span class="text-xs text-gray-600">å‚ä¸äººæ•°</span>
                            </div>
                            <div class="text-sm font-bold text-purple-900">18/30äºº</div>
                        </div>
                        <div class="bg-white rounded-lg p-3">
                            <div class="flex items-center space-x-2 mb-1">
                                <i class="fas fa-dollar-sign text-purple-600"></i>
                                <span class="text-xs text-gray-600">æ´»åŠ¨è´¹ç”¨</span>
                            </div>
                            <div class="text-sm font-bold text-purple-900">å…è´¹</div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2 text-sm text-purple-700">
                        <i class="fas fa-clock text-purple-600"></i>
                        <span>æ´»åŠ¨æ—¶é•¿ï¼šçº¦3å°æ—¶</span>
                    </div>
                </div>

                <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                    <button class="flex items-center space-x-2 text-gray-500" onclick="likeActivity(this)">
                        <i class="far fa-heart text-lg"></i>
                        <span class="text-sm">28</span>
                    </button>
                    <button class="flex items-center space-x-2 text-gray-500" onclick="commentActivity(2)">
                        <i class="far fa-comment text-lg"></i>
                        <span class="text-sm">12</span>
                    </button>
                    <button class="flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium" onclick="joinActivity(2)">
                        <i class="fas fa-user-plus text-sm"></i>
                        <span>ç«‹å³æŠ¥å</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- è¯„è®ºå¼¹çª— -->
    <div id="commentModal" class="fixed inset-0 z-50 hidden">
        <!-- èƒŒæ™¯é®ç½© -->
        <div class="absolute inset-0 bg-black bg-opacity-50" onclick="closeCommentModal()"></div>
        
        <!-- è¯„è®ºé¢æ¿ -->
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl max-h-[85vh] flex flex-col transform transition-transform duration-300" id="commentPanel">
            <!-- é¡¶éƒ¨æ  -->
            <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100">
                <h3 class="text-lg font-semibold text-gray-900">è¯„è®º</h3>
                <button onclick="closeCommentModal()" class="w-8 h-8 flex items-center justify-center text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- åŠ¨æ€ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ -->
            <div id="commentMomentInfo" class="px-6 py-3 bg-gray-50 border-b border-gray-100">
                <!-- åŠ¨æ€å†…å®¹å°†é€šè¿‡JSå¡«å…… -->
            </div>
            
            <!-- è¯„è®ºåˆ—è¡¨ -->
            <div id="commentList" class="flex-1 overflow-y-auto px-6 py-4 space-y-4">
                <!-- è¯„è®ºé¡¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- åº•éƒ¨è¾“å…¥æ  -->
            <div class="border-t border-gray-200 px-4 py-3 bg-white">
                <div class="flex items-end space-x-3">
                    <div class="flex-1">
                        <textarea id="commentInput" 
                                  placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." 
                                  class="w-full px-4 py-3 bg-gray-50 rounded-2xl border border-gray-200 resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"
                                  rows="1"
                                  oninput="autoResizeTextarea(this)"></textarea>
                    </div>
                    <button id="sendCommentBtn" 
                            onclick="sendComment()" 
                            class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fas fa-paper-plane text-sm"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥å¯¼èˆªè„šæœ¬ -->
    <script src="js/navigation.js"></script>
    
    <!-- é¡µé¢ç‰¹å®šäº¤äº’è„šæœ¬ -->
    <script>
        let isFollowing = false;
        let isLiked = false;

        // è¿”å›ä¸Šä¸€é¡µ
        function goBack() {
            if (window.navigationManager) {
                window.navigationManager.goBack();
            } else {
                window.history.back();
            }
        }

        // åˆ†äº«ç”¨æˆ·èµ„æ–™
        function shareProfile() {
            showToast('æ­£åœ¨åˆ†äº«ç”¨æˆ·èµ„æ–™...', 'info');
            // è¿™é‡Œå¯ä»¥å®ç°åˆ†äº«åŠŸèƒ½
        }

        // æ˜¾ç¤ºæ›´å¤šé€‰é¡¹
        function showMoreOptions() {
            showToast('æ›´å¤šé€‰é¡¹åŠŸèƒ½å¼€å‘ä¸­...', 'info');
            // è¿™é‡Œå¯ä»¥æ˜¾ç¤ºä¸¾æŠ¥ã€å±è”½ç­‰é€‰é¡¹
        }

        // åˆ‡æ¢å…³æ³¨çŠ¶æ€
        function toggleFollow() {
            const followBtn = document.getElementById('followBtn');
            const icon = followBtn.querySelector('i');
            const text = followBtn.querySelector('span');
            
            if (isFollowing) {
                isFollowing = false;
                followBtn.classList.remove('following');
                icon.className = 'fas fa-user-plus text-sm';
                text.textContent = 'å…³æ³¨';
                showToast('å·²å–æ¶ˆå…³æ³¨', 'info');
            } else {
                isFollowing = true;
                followBtn.classList.add('following');
                icon.className = 'fas fa-check text-sm';
                text.textContent = 'å·²å…³æ³¨';
                showToast('å…³æ³¨æˆåŠŸ', 'success');
            }
        }

        // å‘é€ç§ä¿¡
        function sendMessage() {
            showToast('æ­£åœ¨æ‰“å¼€ç§ä¿¡...', 'info');
            if (window.navigationManager) {
                window.navigationManager.navigateToSubPage('chat-detail');
            } else {
                setTimeout(() => {
                    window.location.href = 'chat-detail.html';
                }, 1000);
            }
        }

        // åˆ‡æ¢ç‚¹èµçŠ¶æ€
        function toggleLike() {
            const likeIcon = document.getElementById('likeIcon');
            
            if (isLiked) {
                isLiked = false;
                likeIcon.classList.remove('fas');
                likeIcon.classList.add('far');
                showToast('å·²å–æ¶ˆç‚¹èµ', 'info');
            } else {
                isLiked = true;
                likeIcon.classList.remove('far');
                likeIcon.classList.add('fas');
                likeIcon.style.color = '#ef4444';
                showToast('å·²ç‚¹èµ', 'success');
            }
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾é¡µçš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // æ¿€æ´»é€‰ä¸­çš„æ ‡ç­¾é¡µ
            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // ç‚¹èµåŠ¨æ€
        function likeMoment(button) {
            const icon = button.querySelector('i');
            const countSpan = button.querySelector('span');
            let count = parseInt(countSpan.textContent);

            if (icon.classList.contains('fas')) {
                icon.classList.remove('fas');
                icon.classList.add('far');
                count--;
                showToast('å·²å–æ¶ˆç‚¹èµ', 'info');
            } else {
                icon.classList.remove('far');
                icon.classList.add('fas');
                icon.style.color = '#ef4444';
                count++;
                showToast('å·²ç‚¹èµ', 'success');
            }

            countSpan.textContent = count;
        }

        // è¯„è®ºåŠ¨æ€
        function commentMoment(momentId) {
            showToast('æ­£åœ¨æ‰“å¼€è¯„è®º...', 'info');
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°è¯„è®ºé¡µé¢
        }

        // åˆ†äº«åŠ¨æ€
        function shareMoment(momentId) {
            showToast('æ­£åœ¨åˆ†äº«åŠ¨æ€...', 'info');
            // è¿™é‡Œå¯ä»¥å®ç°åˆ†äº«åŠŸèƒ½
        }

        // ç‚¹èµæ´»åŠ¨
        function likeActivity(button) {
            const icon = button.querySelector('i');
            const countSpan = button.querySelector('span');
            let count = parseInt(countSpan.textContent);

            if (icon.classList.contains('fas')) {
                icon.classList.remove('fas');
                icon.classList.add('far');
                count--;
                showToast('å·²å–æ¶ˆç‚¹èµ', 'info');
            } else {
                icon.classList.remove('far');
                icon.classList.add('fas');
                icon.style.color = '#ef4444';
                count++;
                showToast('å·²ç‚¹èµ', 'success');
            }

            countSpan.textContent = count;
        }

        // è¯„è®ºæ´»åŠ¨
        function commentActivity(activityId) {
            showToast('æ­£åœ¨æ‰“å¼€è¯„è®º...', 'info');
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°è¯„è®ºé¡µé¢
        }

        // å‚ä¸æ´»åŠ¨
        function joinActivity(activityId) {
            showToast('æ­£åœ¨åŠ å…¥æ´»åŠ¨...', 'info');
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°æ´»åŠ¨è¯¦æƒ…é¡µé¢
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `fixed top-20 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full text-white text-sm font-medium z-50 transition-all duration-300`;
            
            const styles = {
                'info': 'bg-green-500',
                'success': 'bg-green-500',
                'error': 'bg-red-500',
                'warning': 'bg-yellow-500'
            };
            
            toast.className += ` ${styles[type] || styles['info']}`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '1';
                toast.style.transform = 'translate(-50%, 0)';
            }, 100);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translate(-50%, -20px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        }
    </script>
</body>
</html>
